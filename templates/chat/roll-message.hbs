<div class="d12-roll-message flexcol">
  <div class="item-container flexrow">
    <div class="item-image">
      <img src="{{data.item.img}}" width="32" height="32" />
    </div>
    <div class="item-name">{{data.item.name}}</div>
    <div class="item-bonus">{{formatModifier data.itemBonus}}</div>
  </div>

  {{#if roll}}
    <div class="roll-breakdown flexrow">
      <div class="die flexrow">
        <i class="fas fa-dice"></i>
        <span>{{data.die}}</span>
      </div>
      <div class="plus">+</div>
      <div class="bonus flexrow" style="border-color: var(--d12-attribute-{{data.ability}}-color)">
        <img src="/systems/d12/assets/ui/icons/basic_{{data.ability}}.svg" width="24" height="24" />
        <span>{{data.abilityBonus}}</span>
      </div>
    </div>

    <div class="separator flexrow">Result</div>

    <div class="roll-result">
      {{data.total}}
    </div>
    {{#if data.isCritical}}
    <div class="roll-critical flexrow">
      <div><i class="fas fa-star"></i></div>
      <span>Critical</span>
      <div><i class="fas fa-star"></i></div>
    </div>
    {{/if}}

    {{#if (gt (length data.targets) 0)}}
      <div class="targets flexcol">
        <div class="separator flexrow">Targets</div>

        {{#each data.targets}}
          <div class="target flexrow flex-between">
            <div class="target-image">
              <img src="{{this.actor.img}}" width="24" height="24" />
            </div>
            <div class="target-name">{{this.actor.name}}</div>
            <div class="target-result">
              {{#if (eq this.result "success")}}
                <i class="fas fa-check-circle fa-lg success"></i>
              {{else if (eq this.result "fail")}}
                <i class="fas fa-times-circle fa-lg fail"></i>
              {{/if}}
            </div>
          </div>
        {{/each}}
      </div>
    {{/if}}
  {{/if}}
</div>
