<div class='items-section card'>
  <div class='items-header header'>
    <div class='item-name'>{{localize 'Spell'}}</div>
    <div class='item-header'>{{localize 'Charges'}}</div>
    <div class='item-header'>{{localize 'Roll'}}</div>
    <div class='item-header edit-mode-only'>
      {{#if @root.editable}}
      <a
        class='item-control item-create'
        title='{{localize "DOCUMENT.Create" type='Spell'}}'
        data-type='spell'
      >
        <i class='fas fa-plus'></i>
      </a>
      {{/if}}
    </div>
  </div>
  <ol class='item-list'>
    {{#each spells as |item id|}}
      <li class='item' data-item-id='{{item._id}}'>
        <div class='item-row'>
          <div class='item-name item-action item-edit'>
            <img
              class='item-image rarity-common'
              src='{{item.img}}'
              title='{{item.name}}'
              width='32'
              height='32'
              draggable='false'
            />
            <div class='item-title'>
              <span>{{item.name}}</span>
            </div>
          </div>
          <div class='item-column'>
            {{#if item.system.charges}}
              {{#if @root.editable}}
              <a class='item-control item-charges-decrease edit-mode-only' title='Decrease Charges'>
                <i class='fas fa-circle-minus'></i>
              </a>
              {{/if}}
              <span>{{item.system.charges.value}}</span>
              {{#if item.system.charges.max}}
              <span>/</span>
              <span>{{item.system.charges.max}}</span>
              {{/if}}
              {{#if @root.editable}}
              <a class='item-control item-charges-increase edit-mode-only' title='Increase Charges'>
                <i class='fas fa-circle-plus'></i>
              </a>
              {{/if}}
            {{else}}
              —
            {{/if}}
          </div>
          {{#if item.system.action.ability}}
          <div class='item-column rollable'
              data-roll="d12+@abilities.{{item.system.action.ability}}.value {{bonus item.system.action.bonus}}"
              data-label="{{item.name}}">
            <span
              style="color: var(--d12-attribute-{{item.system.action.ability}}-color)">
              {{localize (lookup @root.config.abilityAbbreviations item.system.action.ability)}}
            </span>
            {{bonus item.system.action.bonus}}
          </div>
          {{else}}
          <div class='item-column'>—</div>
          {{/if}}
          <div class='item-column item-actions edit-mode-only'>
            <a
              class='item-control item-delete'
              title='{{localize "DOCUMENT.Delete" type='Spell'}}'
            >
              <i class='fas fa-xmark'></i>
            </a>
          </div>
        </div>
      </li>
    {{/each}}
  </ol>
</div>
